(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["me"],{1326:function(e,t,r){"use strict";r("99af");var n=r("7a23"),a=Object(n["withScopeId"])("data-v-49072921"),o=a((function(e,t,r,a,o,c){return e.ready?(Object(n["openBlock"])(),Object(n["createBlock"])("div",{key:0,class:"loader ease-linear rounded-full border-8 border-t-8 border-gray-200 ".concat(e.height," ").concat(e.width)},null,2)):Object(n["createCommentVNode"])("",!0)})),c=r("7bbe"),s=Object(n["defineComponent"])({name:"AppSpinner",props:{height:{type:String,required:!0},width:{type:String,required:!0}},setup:function(){var e=Object(c["o"])(300,!0),t=e.ready;return{ready:t}}});r("2749");s.render=o,s.__scopeId="data-v-49072921";t["a"]=s},2749:function(e,t,r){"use strict";r("c3cc")},c3cc:function(e,t,r){},ea4b:function(e,t,r){"use strict";r.d(t,"a",(function(){return l})),r.d(t,"b",(function(){return d}));var n=r("8785"),a=r("9530"),o=r.n(a);function c(){var e=Object(n["a"])(["\n  query GetMe {\n    me {\n      user {\n        ...IdUserName\n        createdAt\n        createdBy\n        lastModifiedAt\n        lastModifiedBy\n        phoneNumber\n        personInfo\n        email\n        personName {\n          firstName\n          lastName\n          middleName\n        }\n      }\n    }\n  }\n  ","\n"]);return c=function(){return e},e}function s(){var e=Object(n["a"])(["\n  fragment IdUserName on User {\n    id\n    userName\n  }\n"]);return s=function(){return e},e}var l=o()(s()),d=o()(c(),l)},ff23:function(e,t,r){"use strict";r.r(t);r("b0c0");var n=r("7a23"),a={class:"relative flex-col w-full justify-end bg-white border p-3 rounded"},o={key:0,class:"flex items-center justify-center w-full h-full"},c={key:1,class:"flex items-center justify-center w-full h-full"},s={class:"flex mr-2 justify-between"},l={class:"w-1/3 mr-2"},d={class:"text-left block text-sm"},u=Object(n["createVNode"])("span",{class:"text-gray-600 dark:text-gray-400"},"Username",-1),i={class:"w-1/3 ml-2"},m={class:"text-left block text-sm"},b=Object(n["createVNode"])("span",{class:"text-gray-600 dark:text-gray-400"},[Object(n["createTextVNode"])("Roles "),Object(n["createVNode"])("span",{class:"text-gray-600 text-xs text-left"},"(Change and you need to login again)")],-1),p={key:0,class:"text-red-700 text-xs text-left"},f={class:"flex justify-between mt-4"},j={class:"text-left block text-sm w-full mr-2"},O=Object(n["createVNode"])("span",{class:"text-gray-600 dark:text-gray-400"},"Firstname",-1),g={class:"text-left block text-sm w-full mr-2"},x=Object(n["createVNode"])("span",{class:"text-gray-600 dark:text-gray-400"},"Middlename",-1),N={class:"text-left block text-sm w-full mr-2"},y=Object(n["createVNode"])("span",{class:"text-gray-600 dark:text-gray-400"},"Lastname",-1),v={class:"text-left block text-sm w-full mr-2 mt-4"},h=Object(n["createVNode"])("span",{class:"text-gray-600 dark:text-gray-400"},"Email",-1),U={class:"text-left block text-sm w-full mr-2 mt-4"},k=Object(n["createVNode"])("span",{class:"text-gray-600 dark:text-gray-400"},"Phonenumber",-1),w={class:"text-left block text-sm w-full mr-2 mt-4"},V=Object(n["createVNode"])("span",{class:"text-gray-600 dark:text-gray-400"},"Personinfo",-1),I={class:"text-gray-500 text-sm text-left mt-10"},B={class:"text-gray-500 text-sm text-left"},M={class:"md:w-2/12 mt-3"};function S(e,t,r,S,D,C){var R=Object(n["resolveComponent"])("Loader");return Object(n["openBlock"])(),Object(n["createBlock"])("div",a,[e.loadUser?(Object(n["openBlock"])(),Object(n["createBlock"])("div",o,[Object(n["createVNode"])(R,{height:"h-48",width:"w-48"})])):e.errUser?(Object(n["openBlock"])(),Object(n["createBlock"])("div",c,[Object(n["createVNode"])("p",null,"Error: "+Object(n["toDisplayString"])(e.errUser.name)+" "+Object(n["toDisplayString"])(e.errUser.message),1)])):Object(n["createCommentVNode"])("",!0),e.resultUser&&e.resultUser.me.user?(Object(n["openBlock"])(),Object(n["createBlock"])(n["Fragment"],{key:2},[Object(n["createVNode"])("div",s,[Object(n["createVNode"])("div",l,[Object(n["createVNode"])("label",d,[u,Object(n["withDirectives"])(Object(n["createVNode"])("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.updateUserInput.userName=t}),class:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",placeholder:e.resultUser.me.user.userName,disabled:""},null,8,["placeholder"]),[[n["vModelText"],e.updateUserInput.userName]])])]),Object(n["createVNode"])("div",i,[Object(n["createVNode"])("label",m,[b,Object(n["withDirectives"])(Object(n["createVNode"])("select",{disabled:e.selectedRole===e.roles.Guest,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.selectedRole=t}),class:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md"},[(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(e.roles,(function(e){return Object(n["openBlock"])(),Object(n["createBlock"])("option",{key:e,value:e},Object(n["toDisplayString"])(e),9,["value"])})),128))],8,["disabled"]),[[n["vModelSelect"],e.selectedRole]]),e.selectedRole===e.roles.Guest?(Object(n["openBlock"])(),Object(n["createBlock"])("span",p,"You need to contact an Admin to change your role")):Object(n["createCommentVNode"])("",!0)])])]),Object(n["createVNode"])("div",f,[Object(n["createVNode"])("label",j,[O,Object(n["withDirectives"])(Object(n["createVNode"])("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=function(t){return e.updateUserInput.firstName=t}),class:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",placeholder:""===e.resultUser.me.user.personName.firstName?"-":e.resultUser.me.user.personName.firstName},null,8,["placeholder"]),[[n["vModelText"],e.updateUserInput.firstName]])]),Object(n["createVNode"])("label",g,[x,Object(n["withDirectives"])(Object(n["createVNode"])("input",{type:"text","onUpdate:modelValue":t[4]||(t[4]=function(t){return e.updateUserInput.middleName=t}),class:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",placeholder:""===e.resultUser.me.user.personName.middleName?"-":e.resultUser.me.user.personName.middleName},null,8,["placeholder"]),[[n["vModelText"],e.updateUserInput.middleName]])]),Object(n["createVNode"])("label",N,[y,Object(n["withDirectives"])(Object(n["createVNode"])("input",{type:"text","onUpdate:modelValue":t[5]||(t[5]=function(t){return e.updateUserInput.lastName=t}),class:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",placeholder:""===e.resultUser.me.user.personName.lastName?"-":e.resultUser.me.user.personName.lastName},null,8,["placeholder"]),[[n["vModelText"],e.updateUserInput.lastName]])])]),Object(n["createVNode"])("label",v,[h,Object(n["withDirectives"])(Object(n["createVNode"])("input",{type:"text","onUpdate:modelValue":t[6]||(t[6]=function(t){return e.updateUserInput.email=t}),class:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",placeholder:""===e.resultUser.me.user.email||null===e.resultUser.me.user.email?"-":e.resultUser.me.user.email},null,8,["placeholder"]),[[n["vModelText"],e.updateUserInput.email]])]),Object(n["createVNode"])("label",U,[k,Object(n["withDirectives"])(Object(n["createVNode"])("input",{type:"text","onUpdate:modelValue":t[7]||(t[7]=function(t){return e.updateUserInput.phoneNumber=t}),class:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",placeholder:""===e.resultUser.me.user.phoneNumber||null===e.resultUser.me.user.phoneNumber?"-":e.resultUser.me.user.phoneNumber},null,8,["placeholder"]),[[n["vModelText"],e.updateUserInput.phoneNumber]])]),Object(n["createVNode"])("label",w,[V,Object(n["withDirectives"])(Object(n["createVNode"])("input",{type:"text","onUpdate:modelValue":t[8]||(t[8]=function(t){return e.updateUserInput.personInfo=t}),class:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",placeholder:""===e.resultUser.me.user.personInfo?"-":e.resultUser.me.user.personInfo},null,8,["placeholder"]),[[n["vModelText"],e.updateUserInput.personInfo]])]),Object(n["createVNode"])("div",I," Last modified by: "+Object(n["toDisplayString"])(e.resultUser.me.user.lastModifiedBy),1),Object(n["createVNode"])("div",B," Last modified at: "+Object(n["toDisplayString"])(e.resultUser.me.user.lastModifiedAt),1)],64)):Object(n["createCommentVNode"])("",!0),Object(n["createVNode"])("div",M,[Object(n["createVNode"])("button",{onClick:t[9]||(t[9]=function(){return e.onSaveClick&&e.onSaveClick.apply(e,arguments)}),class:"block w-full px-4 py-2 mt-4 text-sm text-gray-500 font-medium leading-5 text-center bg-white hover:text-white transition-colors duration-150 hover:bg-indigo-500 border border-transparent rounded-lg active:bg-ui-primary focus:outline-none focus:shadow-outlineIndigo"}," Save ")])])}r("96cf");var D=r("1da1"),C=r("a007"),R=r("091e"),T=r("1326"),A=r("6c02"),L=r("ea4b"),q=r("8785"),F=r("9530"),G=r.n(F);function E(){var e=Object(q["a"])(["\n  mutation Updateuser($input: UpdateUserInput!) {\n    updateUser(input: $input) {\n      user {\n        id\n        userName\n        createdAt\n        createdBy\n        lastModifiedAt\n        lastModifiedBy\n        phoneNumber\n        personInfo\n        email\n        personName {\n          firstName\n          lastName\n          middleName\n        }\n      }\n    }\n  }\n"]);return E=function(){return e},e}var J=G()(E()),P=r("b2ee"),$=Object(n["defineComponent"])({name:"Me",components:{Loader:T["a"]},setup:function(){var e=Object(A["d"])(),t=Object(P["a"])(),r=t.isRole,a=t.clearStorage,o=Object(n["computed"])((function(){return r()})),c=Object(n["ref"])(o.value),s=c.value,l=C["c"],d=Object(n["reactive"])({userId:""}),u=Object(R["b"])(J),i=u.executeMutation,m=u.fetching,b=u.error,p=Object(R["c"])({query:L["b"]}),f=p.data,j=p.fetching,O=p.error,g=function(){var t=Object(D["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=null===(r=f.value)||void 0===r?void 0:r.me.user,!n){t.next=10;break}return d.userId=n.id,d.newRole=c.value,t.next=6,i({input:d});case 6:if("undefined"===typeof d.newRole||d.newRole===s){t.next=10;break}return a(),t.next=10,e.push({path:C["d"].Login,replace:!0});case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return{resultUser:f,loadUser:j,errUser:O,loadUpdate:m,errUpdate:b,updateUserInput:d,onSaveClick:g,roles:l,selectedRole:c}}});$.render=S;t["default"]=$}}]);
//# sourceMappingURL=me.bdf5a808.js.map