(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["groups"],{1326:function(e,t,o){"use strict";o("99af");var r=o("7a23"),n=Object(r["withScopeId"])("data-v-49072921"),c=n((function(e,t,o,n,c,a){return e.ready?(Object(r["openBlock"])(),Object(r["createBlock"])("div",{key:0,class:"loader ease-linear rounded-full border-8 border-t-8 border-gray-200 ".concat(e.height," ").concat(e.width)},null,2)):Object(r["createCommentVNode"])("",!0)})),a=o("7bbe"),l=Object(r["defineComponent"])({name:"AppSpinner",props:{height:{type:String,required:!0},width:{type:String,required:!0}},setup:function(){var e=Object(a["o"])(300,!0),t=e.ready;return{ready:t}}});o("2749");l.render=c,l.__scopeId="data-v-49072921";t["a"]=l},2749:function(e,t,o){"use strict";o("c3cc")},"4c23":function(e,t,o){"use strict";o.d(t,"a",(function(){return i})),o.d(t,"b",(function(){return d}));var r=o("8785"),n=o("9530"),c=o.n(n);function a(){var e=Object(r["a"])(["\n  query GetGroupsCount {\n    groupsCount\n  }\n"]);return a=function(){return e},e}function l(){var e=Object(r["a"])(["\n  query GetDevicesCount {\n    devicesCount\n  }\n"]);return l=function(){return e},e}var i=c()(l()),d=c()(a())},"7a0a":function(e,t,o){"use strict";o.d(t,"a",(function(){return i})),o.d(t,"b",(function(){return d}));var r=o("8785"),n=o("9530"),c=o.n(n);function a(){var e=Object(r["a"])(["\n  query GET_GROUP_BY_ID($name: String!) {\n    groups(where: { name: { eq: $name } }) {\n      id\n      name\n      createdBy\n      lastModifiedBy\n      lastModifiedAt\n      createdAt\n      description\n      devices {\n        id\n        name\n        pluginName\n        pluginName\n      }\n    }\n  }\n"]);return a=function(){return e},e}function l(){var e=Object(r["a"])(["\n  query GetGroups {\n    groups {\n      id\n      name\n      createdBy\n      lastModifiedBy\n      lastModifiedAt\n      createdAt\n      description\n      devices {\n        id\n        name\n        pluginName\n        pluginName\n      }\n    }\n  }\n"]);return l=function(){return e},e}var i=c()(l()),d=c()(a())},"89dc":function(e,t,o){"use strict";o.r(t);o("b0c0");var r=o("7a23"),n={class:"w-full"},c={class:"flex justify-start items-center mb-4 xl:w-1/3"},a={class:"w-full md:w-1/3 xl:w-3/6"},l={key:1},i={key:3,class:"pb-4 h-114 rounded"},d={key:0,class:"grid xl:grid-cols-3 md:grid-cols-2 sm:grid-cols-1 gap-4 rounded"},s={class:"p-3 w-full"},u={class:"flex items-start justify-between"},p={key:1,class:"text-gray-400 text-xs text-left mt-2"},b={class:"text-gray-500 text-sm font-normal text-left"},j=Object(r["createTextVNode"])(" Creator: "),f={class:"font-bold"},g=Object(r["createVNode"])("div",{class:"border-border border-t my-2"},null,-1),O={key:0,class:"text-left"},m={class:"text-gray-500 text-sm text-left mt-2"},v={key:1};function y(e,t,o,y,x,k){var w=Object(r["resolveComponent"])("GroupCreateModal"),h=Object(r["resolveComponent"])("Loader"),B=Object(r["resolveComponent"])("GroupDropdown"),C=Object(r["resolveComponent"])("AppCard");return Object(r["openBlock"])(),Object(r["createBlock"])("div",null,[e.showCreateModal?(Object(r["openBlock"])(),Object(r["createBlock"])(w,{key:0,onClose:e.toggleCreateModal},null,8,["onClose"])):Object(r["createCommentVNode"])("",!0),Object(r["createVNode"])("div",n,[Object(r["createVNode"])("div",c,[Object(r["createVNode"])("div",a,[Object(r["createVNode"])("button",{onClick:t[1]||(t[1]=function(){return e.toggleCreateModal&&e.toggleCreateModal.apply(e,arguments)}),class:"block w-full px-4 py-2 mt-4 text-sm text-gray-600 font-medium leading-5 text-center bg-white hover:text-white hover:bg-indigo-400 border border-transparent rounded-lg active:bg-primary focus:outline-none"}," Add Group ")])])]),e.error?(Object(r["openBlock"])(),Object(r["createBlock"])("p",l,"Error: "+Object(r["toDisplayString"])(e.error.name)+" - "+Object(r["toDisplayString"])(e.error.message),1)):e.loading?(Object(r["openBlock"])(),Object(r["createBlock"])(h,{key:2,height:"h-48",width:"w-48"})):e.data?(Object(r["openBlock"])(),Object(r["createBlock"])("div",i,[e.data.groups?(Object(r["openBlock"])(),Object(r["createBlock"])("div",d,[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.data.groups,(function(t){return Object(r["openBlock"])(),Object(r["createBlock"])(C,{class:"bg-white border hover:border-indigo-400 w-full",key:t.id},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])("div",s,[Object(r["createVNode"])("div",u,[Object(r["createVNode"])("h1",{class:"text-xl text-left text-gray-600 font-bold cursor-pointer",onClick:function(o){return e.goToDetail(t.name)}},Object(r["toDisplayString"])(t.name),9,["onClick"]),t.isSubGroup?(Object(r["openBlock"])(),Object(r["createBlock"])("span",p,"Is Subgroup ")):(Object(r["openBlock"])(),Object(r["createBlock"])(B,{key:0,"group-id":t.id,"group-name":t.name},null,8,["group-id","group-name"]))]),Object(r["createVNode"])("div",b,[j,Object(r["createVNode"])("span",f,Object(r["toDisplayString"])(t.createdBy),1)]),g,void 0!==t.devices?(Object(r["openBlock"])(),Object(r["createBlock"])("div",O,[Object(r["createVNode"])("div",null,[Object(r["createVNode"])("span",m,Object(r["toDisplayString"])(t.devices.length)+" device"+Object(r["toDisplayString"])(t.devices.length>1?"s":""),1)])])):Object(r["createCommentVNode"])("",!0)])]})),_:2},1024)})),128))])):(Object(r["openBlock"])(),Object(r["createBlock"])("div",v,"No groups"))])):Object(r["createCommentVNode"])("",!0)])}var x=o("5530"),k=o("dc2f"),w=(o("a4d3"),o("e01a"),{class:"text-left block text-sm"}),h=Object(r["createVNode"])("span",{class:"text-gray-600 dark:text-gray-400"},"Name",-1),B={class:"text-left block text-sm mt-3"},C=Object(r["createVNode"])("span",{class:"text-gray-600 dark:text-gray-400"},"Description",-1),V={key:0,class:"flex items-center justify-center w-full h-full"};function N(e,t,o,n,c,a){var l=Object(r["resolveComponent"])("AppModal");return Object(r["openBlock"])(),Object(r["createBlock"])(l,{title:e.title,"save-btn-title":"Create","close-btn-title":"Cancel",close:e.close,save:e.save,"save-btn-active":e.saveBtnActive,"main-border-color":"border-red-400","main-bg-color":"bg-red-400",loading:e.loadCreate},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])("label",w,[h,Object(r["withDirectives"])(Object(r["createVNode"])("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.groupCreateInput.name=t}),class:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",placeholder:"Group name"},null,512),[[r["vModelText"],e.groupCreateInput.name]])]),Object(r["createVNode"])("label",B,[C,Object(r["withDirectives"])(Object(r["createVNode"])("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=function(t){return e.groupCreateInput.description=t}),class:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",placeholder:"Group description"},null,512),[[r["vModelText"],e.groupCreateInput.description]])]),e.errCreate?(Object(r["openBlock"])(),Object(r["createBlock"])("div",V,[Object(r["createVNode"])("p",null,"Error: "+Object(r["toDisplayString"])(e.errCreate.name)+" "+Object(r["toDisplayString"])(e.errCreate.message),1)])):Object(r["createCommentVNode"])("",!0)]})),_:1},8,["title","close","save","save-btn-active","loading"])}o("96cf");var D=o("1da1"),G=o("d451"),S=o("091e"),M=o("9fa3"),A=o("7a0a"),R=o("4c23"),q=Object(r["defineComponent"])({name:"GroupCreateModal",emits:["close"],components:{AppModal:G["a"]},setup:function(e,t){var o=Object(r["reactive"])({title:"Create new Group"}),n=Object(r["reactive"])({name:""}),c=Object(S["b"])(M["a"]),a=c.executeMutation,l=c.fetching,i=c.error,d=Object(r["computed"])((function(){return""!==n.name})),s=function(){t.emit("close",!1)},u=function(){var e=Object(D["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a({input:n},{refetchQueries:[{query:A["a"]},{query:R["b"]}]});case 2:s();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(x["a"])(Object(x["a"])({},Object(r["toRefs"])(o)),{},{groupCreateInput:n,saveBtnActive:d,loadCreate:l,errCreate:i,close:s,save:u})}});q.render=N;var I=q,T={class:"relative inline-block text-left"},U={class:"w-7 h-7 p-1 text-black text-center hover:opacity-75 hover:bg-gray-300 inline-flex items-center justify-center rounded-full"},L={key:1,class:"origin-top-right absolute right-0 mt-1 w-40 rounded-md shadow-lg bg-gray-200 ring-1 ring-black ring-opacity-5"},$=Object(r["createVNode"])("div",{class:"py-1"},[Object(r["createVNode"])("a",{class:"flex justify-start px-4 py-2 text-gray-700 hover:bg-gray-100 hover:text-gray-900 cursor-not-allowed active:bg-gray-100",role:"menuitem"},[Object(r["createVNode"])("span",{class:"text-sm"},"Add Device")])],-1);function _(e,t,o,n,c,a){var l=Object(r["resolveComponent"])("AppIcon");return Object(r["openBlock"])(),Object(r["createBlock"])("div",T,[Object(r["createVNode"])("div",{class:"relative items-center flex cursor-pointer",onClick:t[1]||(t[1]=function(){return e.toggleDropDownValue&&e.toggleDropDownValue.apply(e,arguments)})},[Object(r["createVNode"])("span",U,[Object(r["createVNode"])(l,{"icon-name":"DotsVertical"})])]),e.showDropdown?(Object(r["openBlock"])(),Object(r["createBlock"])("button",{key:0,onClick:t[2]||(t[2]=function(){return e.toggleDropDownValue&&e.toggleDropDownValue.apply(e,arguments)}),tabindex:"-1",class:"fixed inset-0 h-full w-full opacity-0 cursor-default"})):Object(r["createCommentVNode"])("",!0),e.showDropdown?(Object(r["openBlock"])(),Object(r["createBlock"])("div",L,[$])):Object(r["createCommentVNode"])("",!0)])}var E=o("fc1f"),F=Object(r["defineComponent"])({name:"GroupDropdown",components:{AppIcon:E["a"]},props:{},setup:function(e){var t=Object(r["ref"])(!1),o=Object(r["reactive"])({showDropdown:!1}),n=function(){o.showDropdown=!o.showDropdown};return Object(x["a"])(Object(x["a"])(Object(x["a"])({},Object(r["toRefs"])(o)),Object(r["toRefs"])(e)),{},{dropdownPopoverShow:t,toggleDropDownValue:n})}});F.render=_;var P=F,z=o("1326"),J=o("6c02"),Q=Object(r["defineComponent"])({name:"Groups",components:{AppCard:k["a"],GroupCreateModal:I,GroupDropdown:P,Loader:z["a"]},setup:function(){var e=Object(J["d"])(),t=Object(S["c"])({query:A["a"]}),o=t.data,n=t.fetching,c=t.error,a=Object(r["reactive"])({showCreateModal:!1,showDetailModal:!1,groupId:"",closeDropdown:!1}),l=function(){a.showCreateModal=!a.showCreateModal},i=function(t){e.push({name:"GroupDetail",params:{name:t}})};return Object(x["a"])(Object(x["a"])({data:o,loading:n,error:c},Object(r["toRefs"])(a)),{},{toggleCreateModal:l,goToDetail:i})}});Q.render=y;t["default"]=Q},"9fa3":function(e,t,o){"use strict";o.d(t,"a",(function(){return i})),o.d(t,"b",(function(){return d}));var r=o("8785"),n=o("9530"),c=o.n(n);function a(){var e=Object(r["a"])(["\n  mutation UPDATE_GROUP($input: UpdateGroupInput!) {\n    updateGroup(input: $input) {\n      errors {\n        message\n        code\n      }\n    }\n  }\n"]);return a=function(){return e},e}function l(){var e=Object(r["a"])(["\n  mutation CreateGroup($input: CreateGroupInput!) {\n    createGroup(input: $input) {\n      group {\n        id\n      }\n      errors {\n        message\n        code\n      }\n    }\n  }\n"]);return l=function(){return e},e}var i=c()(l()),d=c()(a())},a475:function(e,t,o){"use strict";o.r(t);o("a4d3"),o("e01a"),o("b0c0");var r=o("7a23"),n={class:"relative flex-col w-full justify-end bg-white border p-3 rounded"},c={key:0,class:"flex items-center justify-center w-full h-full"},a={key:1,class:"flex items-center justify-center w-full h-full"},l={class:"text-left block text-sm"},i=Object(r["createVNode"])("span",{class:"text-gray-600 dark:text-gray-400"},"Name",-1),d={class:"text-left block text-sm my-3"},s=Object(r["createVNode"])("span",{class:"text-gray-600 dark:text-gray-400"},"Description",-1),u={key:0,class:"text-left"},p=Object(r["createVNode"])("div",null,[Object(r["createVNode"])("span",{class:"text-gray-500 text-sm text-left mt-2"},"Devices")],-1),b={key:1,class:"text-left"},j=Object(r["createVNode"])("span",{class:"text-gray-500 text-sm text-left mt-2"},"No devices available",-1),f={class:"text-gray-500 text-sm text-left mt-10"},g={class:"flex items-center justify-start mt-4"},O={class:"flex"},m=Object(r["createVNode"])("span",{class:"pl-2"},"Save",-1);function v(e,t,o,v,y,x){var k,w=Object(r["resolveComponent"])("Loader");return Object(r["openBlock"])(),Object(r["createBlock"])("div",n,[e.loading?(Object(r["openBlock"])(),Object(r["createBlock"])("div",c,[Object(r["createVNode"])(w,{height:"h-48",width:"w-48"})])):e.error?(Object(r["openBlock"])(),Object(r["createBlock"])("div",a,[Object(r["createVNode"])("p",null,"Error: "+Object(r["toDisplayString"])(e.error.name)+" "+Object(r["toDisplayString"])(e.error.message),1)])):e.groupResult&&e.groupResult.groups[0]?(Object(r["openBlock"])(),Object(r["createBlock"])(r["Fragment"],{key:2},[Object(r["createVNode"])("label",l,[i,Object(r["withDirectives"])(Object(r["createVNode"])("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.updatedGroup.name=t}),class:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",placeholder:e.groupResult.groups[0].name},null,8,["placeholder"]),[[r["vModelText"],e.updatedGroup.name]])]),Object(r["createVNode"])("label",d,[s,Object(r["withDirectives"])(Object(r["createVNode"])("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=function(t){return e.updatedGroup.description=t}),class:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",placeholder:null!==(k=e.groupResult.groups[0].description)&&void 0!==k?k:"Description"},null,8,["placeholder"]),[[r["vModelText"],e.updatedGroup.description]])]),void 0!==e.groupResult.groups[0].devices&&e.groupResult.groups[0].devices.length>0?(Object(r["openBlock"])(),Object(r["createBlock"])("div",u,[p,(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.groupResult.groups[0].devices,(function(e){return Object(r["openBlock"])(),Object(r["createBlock"])("div",{key:e.id,class:"pl-3"},Object(r["toDisplayString"])(e.name),1)})),128))])):(Object(r["openBlock"])(),Object(r["createBlock"])("div",b,[j])),Object(r["createVNode"])("div",f,"Creator: "+Object(r["toDisplayString"])(e.groupResult.groups[0].createdBy),1),Object(r["createVNode"])("div",g,[Object(r["createVNode"])("button",{class:["bg-transparent border-indigo-400 border border-solid font-bold uppercase text-sm pl-4 pr-6 py-3 rounded outline-none focus:outline-none",[e.loadUpdate?"opacity-50 focus:outline-none cursor-not-allowed":"hover:bg-indigo-400 hover:text-white text-gray-600"]],type:"button",onClick:t[3]||(t[3]=function(){return e.save&&e.save.apply(e,arguments)}),disabled:e.loadUpdate},[Object(r["createVNode"])("span",O,[e.loadUpdate?(Object(r["openBlock"])(),Object(r["createBlock"])(w,{key:0,height:"h-2",width:"w-2"})):Object(r["createCommentVNode"])("",!0),m])],10,["disabled"])])],64)):Object(r["createCommentVNode"])("",!0)])}o("96cf");var y=o("1da1"),x=o("1326"),k=o("091e"),w=o("9fa3"),h=o("7a0a"),B=o("6c02"),C=Object(r["defineComponent"])({name:"GroupDetails",components:{Loader:x["a"]},setup:function(){var e=Object(B["c"])(),t=Object(r["reactive"])({id:""}),o=Object(k["b"])(w["b"]),n=o.executeMutation,c=o.fetching,a=o.error,l=Object(k["c"])({query:h["b"],variables:{name:e.params.name},requestPolicy:"network-only"}),i=l.data,d=l.fetching,s=l.error,u=function(){var e=Object(y["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!i.value){e.next=4;break}return t.id=i.value.groups[0].id,e.next=4,n({input:t});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{loading:d,loadUpdate:c,errUpdate:a,error:s,groupResult:i,save:u,updatedGroup:t}}});C.render=v;t["default"]=C},c3cc:function(e,t,o){},d451:function(e,t,o){"use strict";var r=o("7a23"),n=Object(r["createVNode"])("div",{class:"opacity-25 fixed inset-0 z-40 bg-black"},null,-1),c={class:"overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none justify-center items-center flex"},a={class:"relative md:w-10/12 xl:w-1/2 w-11/12 my-6 mx-auto max-w-3xl"},l={class:"border-0 rounded-lg shadow-md relative flex flex-col w-full bg-white outline-none focus:outline-none"},i={class:"text-3xl font-semibold text-white"},d=Object(r["createVNode"])("svg",{class:"h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[Object(r["createVNode"])("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),s={class:"relative p-6 flex-auto"},u={class:"flex items-center justify-end p-3 border-t border-solid border-gray-300 rounded-b"},p={class:"flex"},b={class:"pl-2"};function j(e,t,o,j,f,g){var O=Object(r["resolveComponent"])("Loader");return Object(r["openBlock"])(),Object(r["createBlock"])(r["Teleport"],{to:"body"},[Object(r["createVNode"])("div",null,[n,Object(r["createVNode"])("div",c,[Object(r["createVNode"])("div",a,[Object(r["createVNode"])("div",l,[Object(r["createVNode"])("div",{class:["flex items-start justify-between p-5 border-b border-solid border-gray-300 rounded-t",["".concat(e.mainBgColor)]]},[Object(r["createVNode"])("h3",i,Object(r["toDisplayString"])(e.title),1),Object(r["createVNode"])("button",{class:"p-1 ml-auto outline-none focus:outline-none",onClick:t[1]||(t[1]=function(){return e.close&&e.close.apply(e,arguments)})},[d])],2),Object(r["createVNode"])("div",s,[Object(r["renderSlot"])(e.$slots,"default")]),Object(r["createVNode"])("div",u,[Object(r["createVNode"])("button",{class:"text-red-400 border solid hover:border-red-400 bg-white font-bold uppercase px-6 py-3 text-sm mr-2 rounded",type:"button",onClick:t[2]||(t[2]=function(){return e.close&&e.close.apply(e,arguments)})},Object(r["toDisplayString"])(e.closeBtnTitle),1),Object(r["createVNode"])("button",{class:["bg-transparent border border-solid font-bold uppercase text-sm pl-4 pr-6 py-3 rounded outline-none focus:outline-none",["".concat(e.mainBorderColor),e.saveBtnActive&&!e.loading?"hover:".concat(e.mainBgColor," hover:text-white text-gray-600"):"opacity-50 focus:outline-none cursor-not-allowed"]],type:"button",onClick:t[3]||(t[3]=function(){return e.save&&e.save.apply(e,arguments)}),disabled:!e.saveBtnActive||e.loading},[Object(r["createVNode"])("span",p,[e.loading?(Object(r["openBlock"])(),Object(r["createBlock"])(O,{key:0,height:"h-2",width:"w-2"})):Object(r["createCommentVNode"])("",!0),Object(r["createVNode"])("span",b,Object(r["toDisplayString"])(e.saveBtnTitle),1)])],10,["disabled"])])])])])])])}var f=o("5530"),g=o("1326"),O=Object(r["defineComponent"])({name:"AppModal",props:{title:{type:String,required:!0},saveBtnTitle:{type:String,required:!0},closeBtnTitle:{type:String,required:!0},close:{type:Function,required:!0},save:{type:Function,required:!0},saveBtnActive:{type:Boolean,default:!0},mainBgColor:{type:String,default:"bg-indigo-400"},mainBorderColor:{type:String,default:"border-indigo-400"},saveBtnColor:{type:String,default:"bg-indigo-400"},loading:{type:Boolean,required:!0}},components:{Loader:g["a"]},setup:function(e){return Object(f["a"])({},Object(r["toRefs"])(e))}});O.render=j;t["a"]=O},dc2f:function(e,t,o){"use strict";var r=o("7a23"),n={class:"relative flex-1 h-full max-w-4xl mx-auto overflow-hidden rounded p-3"},c={class:"flex flex-col overflow-y-auto md:flex-row"};function a(e,t,o,a,l,i){return Object(r["openBlock"])(),Object(r["createBlock"])("div",n,[Object(r["createVNode"])("div",c,[Object(r["renderSlot"])(e.$slots,"default")])])}var l=Object(r["defineComponent"])({name:"AppCard"});l.render=a;t["a"]=l}}]);
//# sourceMappingURL=groups.b9d003ac.js.map